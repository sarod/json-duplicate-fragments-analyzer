(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{67:function(e,t,n){e.exports=n(87)},72:function(e,t,n){},73:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),l=n.n(i),o=(n(72),n(27)),c=(n(73),n(89)),u=n(123),s=n(126),m=n(125),g=n(127),f=n(122),d=n(121),h=r.a.memo(function(e){var t,n=e.fragment,a=r.a.useState(!1),i=Object(o.a)(a,2),l=i[0],u=i[1],s=r.a.useCallback(function(e,t){u(t)},[u]);return r.a.createElement(g.a,{expanded:l,onChange:s},r.a.createElement(d.a,null,r.a.createElement(c.a,null,"Path: ",n.path.join("."))),r.a.createElement(f.a,null,l&&r.a.createElement("pre",null,(t=n.value,JSON.stringify(t,null,"  ")))))}),p=r.a.memo(function(e){var t=e.result;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{variant:"body2"},"Original JSON is ",t.compactJsonLength," characters (",t.originalJsonLength," before compact rewrite)."),r.a.createElement(c.a,{variant:"body2"},"Found ",t.fragmentsInfo.length," duplicated fragments."),r.a.createElement("div",null,t.fragmentsInfo.map(function(e,t){return r.a.createElement(g.a,{key:t},r.a.createElement(d.a,null,r.a.createElement(c.a,null,"Fragment [",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e.length>t?e.substr(0,t-1)+"\u2026":e}(e.preview,50),"]: Found ",e.fragmentsCount," times totalling ",e.stringifiedLength," characters (",e.percentOfTotalLength,"%).")),r.a.createElement(f.a,null,r.a.createElement("div",{style:{width:"100%"}},e.fragments.map(function(e,t){return r.a.createElement(h,{key:t,fragment:e})}))))})))}),v=n(39),E=n(47),b=n(46),y=n(40),O=n.n(y),w={indexPredicate:function(e,t){return!0},maxFragmentsLimit:100},j=function(e,t){var n=Object(b.a)({},w,t),a=JSON.parse(e),r=JSON.stringify(a).length,i=J(a,n),l=Object.entries(i).map(function(e){var t=Object(o.a)(e,2),n=(t[0],t[1]),a=n.map(function(e){return JSON.stringify(e.value).length}).reduce(function(e,t){return e+t});return{preview:JSON.stringify(n[0].value).substr(0,200),fragmentsCount:n.length,stringifiedLength:a,percentOfTotalLength:a/r*100,fragments:n}}).filter(function(e){return e.fragmentsCount>=2}).sort(function(e,t){return t.stringifiedLength-e.stringifiedLength}).slice(0,n.maxFragmentsLimit);return{originalJsonLength:e.length,compactJsonLength:r,fragmentsInfo:l}},J=function(e,t){var n=t.indexPredicate;return function e(t,a,r){return null===t||void 0===t?r:n(t,a)?(r=function(e,t){var n=O()(t.value),a=e[n]||[];return Object(b.a)({},e,Object(v.a)({},n,[].concat(Object(E.a)(a),[t])))}(r,{value:t,path:a}),Array.isArray(t)||"object"===typeof t?Object.keys(t).reduce(function(n,r){var i=[].concat(Object(E.a)(a),[r]),l=t[r];return e(l,i,n)},r):r):r}(e,[],{})},k=function(){var e=new Map;return function(t){var n=O()(t);return e.has(n)?e.get(n):(e.set(n,t),t)}},x=n(124),S={whatever:"This object is used several times"},L=JSON.stringify({prop1:S,prop2:S,prop3:{prop4:S,prop5:[S,S,"otherValue"]}},null,"  "),C=function(e){var t=e.json,n=e.includeString,a=r.a.useMemo(function(){return function(e,t){try{return j(e,{indexPredicate:function(e,n){return"number"!==typeof e&&"boolean"!==typeof e&&(t||"string"!==typeof e)},maxFragmentsLimit:20})}catch(n){return n}}(t,n)},[t,n]);return a instanceof Error?r.a.createElement("div",null,r.a.createElement(c.a,{variant:"body2"},"Error analyzing Json:"),r.a.createElement("pre",null,a.stack||a.toString())):r.a.createElement(p,{result:a})},N=function(){var e=r.a.useState(L),t=Object(o.a)(e,2),n=t[0],a=t[1],i=r.a.useCallback(function(e){a(e.target.value)},[a]),l=r.a.useState(!1),g=Object(o.a)(l,2),f=g[0],d=g[1],h=r.a.useCallback(function(e){d(e.target.checked)},[d]),p=r.a.useMemo(k,[]);return r.a.createElement("div",{className:"App",style:p({height:"100%",display:"flex",flexDirection:"column",margin:"8px"})},r.a.createElement(c.a,{variant:"h6"},"Config"),r.a.createElement(m.a,{id:"json-text",label:"Json",multiline:!0,rows:"15",rowsMax:"15",value:n,onChange:i,margin:"normal",variant:"outlined",placeholder:"Paste JSON block here",style:p({width:"100%"})}),r.a.createElement(u.a,{label:"Include strings",control:r.a.createElement(s.a,{id:"include-string-checkbox",checked:f,onChange:h})}),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{variant:"fullWidth"}),r.a.createElement(c.a,{variant:"h6"},"Result"),r.a.createElement(C,{json:n,includeString:f})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[67,1,2]]]);
//# sourceMappingURL=main.2adee5b6.chunk.js.map